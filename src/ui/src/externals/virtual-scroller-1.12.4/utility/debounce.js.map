{"version":3,"file":"debounce.js","names":["setTimeout","clearTimeout","debounce","func","interval","onStart","onStop","timeout","args","Promise","resolve","undefined","apply"],"sources":["../../source/utility/debounce.js"],"sourcesContent":["// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\n// https://github.com/bvaughn/react-virtualized/issues/722\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\n\n/**\n * Same as `lodash`'s `debounce()` for functions with no arguments.\n * @param  {function} func â€” The function.\n * @param  {number} interval\n * @param  {function} [options.onStart]\n * @param  {function} [options.onStop]\n * @return {function} A function that returns a `Promise` which resolves when the underlying (original) function gets executed.\n */\nexport default function debounce(func, interval, { onStart, onStop } = {}) {\n\tlet timeout\n\treturn function(...args) {\n\t\treturn new Promise((resolve) => {\n\t\t\tif (timeout) {\n\t\t\t\tclearTimeout(timeout)\n\t\t\t} else {\n\t\t\t\tif (onStart) {\n\t\t\t\t\tonStart()\n\t\t\t\t}\n\t\t\t}\n\t\t\ttimeout = setTimeout(() => {\n\t\t\t\ttimeout = undefined\n\t\t\t\tif (onStop) {\n\t\t\t\t\tonStop()\n\t\t\t\t}\n\t\t\t\tfunc.apply(this, args)\n\t\t\t\tresolve()\n\t\t\t}, interval)\n\t\t})\n\t}\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,UAAT,EAAqBC,YAArB,QAAyC,iCAAzC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,QAAT,CAAkBC,IAAlB,EAAwBC,QAAxB,EAA4D;EAAA,+EAAJ,EAAI;EAAA,IAAxBC,OAAwB,QAAxBA,OAAwB;EAAA,IAAfC,MAAe,QAAfA,MAAe;;EAC1E,IAAIC,OAAJ;EACA,OAAO,YAAkB;IAAA;;IAAA,kCAANC,IAAM;MAANA,IAAM;IAAA;;IACxB,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;MAC/B,IAAIH,OAAJ,EAAa;QACZN,YAAY,CAACM,OAAD,CAAZ;MACA,CAFD,MAEO;QACN,IAAIF,OAAJ,EAAa;UACZA,OAAO;QACP;MACD;;MACDE,OAAO,GAAGP,UAAU,CAAC,YAAM;QAC1BO,OAAO,GAAGI,SAAV;;QACA,IAAIL,MAAJ,EAAY;UACXA,MAAM;QACN;;QACDH,IAAI,CAACS,KAAL,CAAW,KAAX,EAAiBJ,IAAjB;QACAE,OAAO;MACP,CAPmB,EAOjBN,QAPiB,CAApB;IAQA,CAhBM,CAAP;EAiBA,CAlBD;AAmBA"}