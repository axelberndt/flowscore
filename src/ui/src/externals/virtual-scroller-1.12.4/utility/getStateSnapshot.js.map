{"version":3,"file":"getStateSnapshot.js","names":["getStateSnapshot","state","stateSnapshot","itemHeights","slice","itemStates","beforeResize"],"sources":["../../source/utility/getStateSnapshot.js"],"sourcesContent":["// Creates a snapshot of a `state` or a partial update of a `state`.\n// Is only used for logging state snapshots for later debug.\n//\n// When `state` is output to the browser console via `console.log()`,\n// it is explorable in real time. That also means that if that `state`\n// is modified later, the user will see the modified state, not the\n// original one. In the current implementation, `state` is not strictly\n// \"immutable\": things like individual item heights (including \"before resize\" ones)\n// or states are updated in-place — `state.itemHeights[i] = newItemHeight` or\n// `state.itemStates[i] = newItemState`. That's because those `state` properties\n// are the ones that don’t affect the presentation, so there's no need to re-render\n// the list when those do change — updating those properties is just an effect of\n// some change rather than cause for one.\n//\n// So, when outputting `state` via `console.log()` for debug, it makes sense to\n// snapshot it so that the developer, while debugging later, sees the correct\n// item heights or item states.\n//\nexport default function getStateSnapshot(state) {\n\tlet stateSnapshot = {\n\t\t...state\n\t}\n\tif (state.itemHeights) {\n\t\tstateSnapshot.itemHeights = state.itemHeights.slice()\n\t}\n\tif (state.itemStates) {\n\t\tstateSnapshot.itemStates = state.itemStates.slice()\n\t}\n\tif (state.beforeResize) {\n\t\tstateSnapshot.beforeResize = {\n\t\t\t...state.beforeResize\n\t\t}\n\t\tstateSnapshot.beforeResize.itemHeights = state.beforeResize.itemHeights.slice()\n\t}\n\treturn stateSnapshot\n}"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;EAC/C,IAAIC,aAAa,qBACbD,KADa,CAAjB;;EAGA,IAAIA,KAAK,CAACE,WAAV,EAAuB;IACtBD,aAAa,CAACC,WAAd,GAA4BF,KAAK,CAACE,WAAN,CAAkBC,KAAlB,EAA5B;EACA;;EACD,IAAIH,KAAK,CAACI,UAAV,EAAsB;IACrBH,aAAa,CAACG,UAAd,GAA2BJ,KAAK,CAACI,UAAN,CAAiBD,KAAjB,EAA3B;EACA;;EACD,IAAIH,KAAK,CAACK,YAAV,EAAwB;IACvBJ,aAAa,CAACI,YAAd,qBACIL,KAAK,CAACK,YADV;IAGAJ,aAAa,CAACI,YAAd,CAA2BH,WAA3B,GAAyCF,KAAK,CAACK,YAAN,CAAmBH,WAAnB,CAA+BC,KAA/B,EAAzC;EACA;;EACD,OAAOF,aAAP;AACA"}