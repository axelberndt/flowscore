{"version":3,"file":"tbody.js","names":["px","BROWSER_NOT_SUPPORTED_ERROR","supportsTbody","window","document","documentMode","TBODY_CLASS_NAME","STYLE_ELEMENT_ID","hasTbodyStyles","tbody","classList","contains","Boolean","getElementById","addTbodyStyles","add","style","createElement","id","innerText","replace","head","appendChild","setTbodyPadding","beforeItemsHeight","afterItemsHeight","setProperty"],"sources":["../../source/DOM/tbody.js"],"sourcesContent":["// A workaround for `<tbody/>` not being able to have `padding`.\n// https://gitlab.com/catamphetamine/virtual-scroller/-/issues/1\n\nimport px from '../utility/px.js'\n\nexport const BROWSER_NOT_SUPPORTED_ERROR = 'It looks like you\\'re using Internet Explorer which doesn\\'t support CSS variables required for a <tbody/> container. VirtualScroller has been switched into \"bypass\" mode (render all items). See: https://gitlab.com/catamphetamine/virtual-scroller/-/issues/1'\n\nexport function supportsTbody() {\n\t// Detect Internet Explorer.\n\t// https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie\n\t// `documentMode` is an IE-only property.\n\t// Supports IE 9-11. Maybe even IE 8.\n\t// http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx\n\tif (typeof window !== 'undefined' && window.document.documentMode) {\n\t\t// CSS variables aren't supported in Internet Explorer.\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const TBODY_CLASS_NAME = 'VirtualScroller'\nconst STYLE_ELEMENT_ID = 'VirtualScrollerStyle'\n\nexport function hasTbodyStyles(tbody) {\n\treturn tbody.classList.contains(TBODY_CLASS_NAME) &&\n\t\tBoolean(document.getElementById(STYLE_ELEMENT_ID))\n}\n\nexport function addTbodyStyles(tbody) {\n\t// `classList.add` is supported in Internet Explorer 10+.\n\ttbody.classList.add(TBODY_CLASS_NAME)\n\n\t// Create a `<style/>` element.\n\tconst style = document.createElement('style')\n\tstyle.id = STYLE_ELEMENT_ID\n\n\t// CSS variables aren't supported in Internet Explorer.\n\tstyle.innerText = `\n\t\ttbody.${TBODY_CLASS_NAME}:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: table-row;\n\t\t\theight: var(--VirtualScroller-paddingTop);\n\t\t}\n\t\ttbody.${TBODY_CLASS_NAME}:after {\n\t\t\tcontent: '';\n\t\t\tdisplay: table-row;\n\t\t\theight: var(--VirtualScroller-paddingBottom);\n\t\t}\n\t`.replace(/[\\n\\t]/g, '')\n\n\tdocument.head.appendChild(style)\n}\n\nexport function setTbodyPadding(tbody, beforeItemsHeight, afterItemsHeight) {\n\t// CSS variables aren't supported in Internet Explorer.\n\ttbody.style.setProperty('--VirtualScroller-paddingTop', px(beforeItemsHeight));\n\ttbody.style.setProperty('--VirtualScroller-paddingBottom', px(afterItemsHeight));\n}"],"mappings":"AAAA;AACA;AAEA,OAAOA,EAAP,MAAe,kBAAf;AAEA,OAAO,IAAMC,2BAA2B,GAAG,mQAApC;AAEP,OAAO,SAASC,aAAT,GAAyB;EAC/B;EACA;EACA;EACA;EACA;EACA,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACC,QAAP,CAAgBC,YAArD,EAAmE;IAClE;IACA,OAAO,KAAP;EACA;;EACD,OAAO,IAAP;AACA;AAED,OAAO,IAAMC,gBAAgB,GAAG,iBAAzB;AACP,IAAMC,gBAAgB,GAAG,sBAAzB;AAEA,OAAO,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;EACrC,OAAOA,KAAK,CAACC,SAAN,CAAgBC,QAAhB,CAAyBL,gBAAzB,KACNM,OAAO,CAACR,QAAQ,CAACS,cAAT,CAAwBN,gBAAxB,CAAD,CADR;AAEA;AAED,OAAO,SAASO,cAAT,CAAwBL,KAAxB,EAA+B;EACrC;EACAA,KAAK,CAACC,SAAN,CAAgBK,GAAhB,CAAoBT,gBAApB,EAFqC,CAIrC;;EACA,IAAMU,KAAK,GAAGZ,QAAQ,CAACa,aAAT,CAAuB,OAAvB,CAAd;EACAD,KAAK,CAACE,EAAN,GAAWX,gBAAX,CANqC,CAQrC;;EACAS,KAAK,CAACG,SAAN,GAAkB,sBACTb,gBADS,0IAMTA,gBANS,6HAWhBc,OAXgB,CAWR,SAXQ,EAWG,EAXH,CAAlB;EAaAhB,QAAQ,CAACiB,IAAT,CAAcC,WAAd,CAA0BN,KAA1B;AACA;AAED,OAAO,SAASO,eAAT,CAAyBd,KAAzB,EAAgCe,iBAAhC,EAAmDC,gBAAnD,EAAqE;EAC3E;EACAhB,KAAK,CAACO,KAAN,CAAYU,WAAZ,CAAwB,8BAAxB,EAAwD1B,EAAE,CAACwB,iBAAD,CAA1D;EACAf,KAAK,CAACO,KAAN,CAAYU,WAAZ,CAAwB,iCAAxB,EAA2D1B,EAAE,CAACyB,gBAAD,CAA7D;AACA"}