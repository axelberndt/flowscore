{"version":3,"file":"VirtualScroller.verticalSpacing.js","names":["log","getVerticalSpacing","createVerticalSpacingHelpers","verticalSpacing","getVerticalSpacingBeforeResize","getState","beforeResize","measureVerticalSpacingIfNotMeasured","undefined","measureVerticalSpacing","call","firstShownItemIndex","lastShownItemIndex","itemsContainer","renderedItemsCount"],"sources":["../source/VirtualScroller.verticalSpacing.js"],"sourcesContent":["import log from './utility/debug.js'\nimport getVerticalSpacing from './getVerticalSpacing.js'\n\nexport default function createVerticalSpacingHelpers() {\n\t// Bind to `this` in order to prevent bugs when this function is passed by reference\n\t// and then called with its `this` being unintentionally `window` resulting in\n\t// the `if` condition being \"falsy\".\n\tthis.getVerticalSpacing = () => {\n\t\treturn this.verticalSpacing || 0\n\t}\n\n\tthis.getVerticalSpacingBeforeResize = () => {\n\t\t// `beforeResize.verticalSpacing` can be `undefined`.\n\t\t// For example, if `this.updateState({ verticalSpacing })` call hasn't been applied\n\t\t// before the resize happened (in case of an \"asynchronous\" state update).\n\t\tconst { beforeResize } = this.getState()\n\t\treturn beforeResize && beforeResize.verticalSpacing || 0\n\t}\n\n\t/**\n\t * Measures item vertical spacing, if not measured.\n\t * @return {object} [stateUpdate]\n\t */\n\tthis.measureVerticalSpacingIfNotMeasured = () => {\n\t\tif (this.verticalSpacing === undefined) {\n\t\t\tthis.verticalSpacing = measureVerticalSpacing.call(this)\n\t\t\treturn this.verticalSpacing\n\t\t}\n\t}\n\n\tfunction measureVerticalSpacing() {\n\t\tconst {\n\t\t\tfirstShownItemIndex,\n\t\t\tlastShownItemIndex\n\t\t} = this.getState()\n\n\t\tlog('~ Measure item vertical spacing ~')\n\n\t\tconst verticalSpacing = getVerticalSpacing({\n\t\t\titemsContainer: this.itemsContainer,\n\t\t\trenderedItemsCount: lastShownItemIndex - firstShownItemIndex + 1\n\t\t})\n\n\t\tif (verticalSpacing === undefined) {\n\t\t\tlog('Not enough items rendered to measure vertical spacing')\n\t\t} else {\n\t\t\tlog('Item vertical spacing', verticalSpacing)\n\t\t\treturn verticalSpacing\n\t\t}\n\t}\n}"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,OAAOC,kBAAP,MAA+B,yBAA/B;AAEA,eAAe,SAASC,4BAAT,GAAwC;EAAA;;EACtD;EACA;EACA;EACA,KAAKD,kBAAL,GAA0B,YAAM;IAC/B,OAAO,KAAI,CAACE,eAAL,IAAwB,CAA/B;EACA,CAFD;;EAIA,KAAKC,8BAAL,GAAsC,YAAM;IAC3C;IACA;IACA;IACA,qBAAyB,KAAI,CAACC,QAAL,EAAzB;IAAA,IAAQC,YAAR,kBAAQA,YAAR;;IACA,OAAOA,YAAY,IAAIA,YAAY,CAACH,eAA7B,IAAgD,CAAvD;EACA,CAND;EAQA;AACD;AACA;AACA;;;EACC,KAAKI,mCAAL,GAA2C,YAAM;IAChD,IAAI,KAAI,CAACJ,eAAL,KAAyBK,SAA7B,EAAwC;MACvC,KAAI,CAACL,eAAL,GAAuBM,sBAAsB,CAACC,IAAvB,CAA4B,KAA5B,CAAvB;MACA,OAAO,KAAI,CAACP,eAAZ;IACA;EACD,CALD;;EAOA,SAASM,sBAAT,GAAkC;IACjC,sBAGI,KAAKJ,QAAL,EAHJ;IAAA,IACCM,mBADD,mBACCA,mBADD;IAAA,IAECC,kBAFD,mBAECA,kBAFD;;IAKAZ,GAAG,CAAC,mCAAD,CAAH;IAEA,IAAMG,eAAe,GAAGF,kBAAkB,CAAC;MAC1CY,cAAc,EAAE,KAAKA,cADqB;MAE1CC,kBAAkB,EAAEF,kBAAkB,GAAGD,mBAArB,GAA2C;IAFrB,CAAD,CAA1C;;IAKA,IAAIR,eAAe,KAAKK,SAAxB,EAAmC;MAClCR,GAAG,CAAC,uDAAD,CAAH;IACA,CAFD,MAEO;MACNA,GAAG,CAAC,uBAAD,EAA0BG,eAA1B,CAAH;MACA,OAAOA,eAAP;IACA;EACD;AACD"}